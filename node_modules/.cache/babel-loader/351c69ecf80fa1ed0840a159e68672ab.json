{"ast":null,"code":"var _jsxFileName = \"C:\\\\Project\\\\Web\\\\React\\\\todolist_pro\\\\src\\\\App.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useCallback, useEffect } from 'react';\nimport './App.scss';\nimport MyHeader from './components/Header';\nimport AddInput from './components/AddInput';\nimport TodoItem from './components/TodoItem';\nimport CheckModel from './components/Model/CheckModel';\nimport EditModel from './components/Model/EditModel'; // useEffect 要按顺序执行 \n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const [isShowInput, setShowInput] = useState(false),\n        [todoList, setTodoList] = useState([]),\n        [isShowCheckModel, setisShowCheckModel] = useState(false),\n        [isShowEditModel, setisShowEditModel] = useState(false),\n        [currentData, setcurrentData] = useState({}); // 第一次加载时读取数据\n\n  useEffect(() => {\n    const todoData = JSON.parse(localStorage.getItem('todoData')) || [];\n    setTodoList(todoData);\n  }, []); // todoLis 变化的话就更新存储\n\n  useEffect(() => {\n    localStorage.setItem('todoData', JSON.stringify(todoList));\n  }, [todoList]); // 这个函数没必要在父组件更新的时候更新，所以用useCallback缓存，起来不让他跟随父组件更新\n\n  const addItem = useCallback(value => {\n    const itemData = {\n      id: new Date().getTime(),\n      content: value,\n      completed: false\n    };\n    setTodoList(todoList => [...todoList, itemData]);\n    setShowInput(false);\n  }, []); // 依赖了todolist\n\n  const openModel = useCallback(function (id) {\n    let type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    setcurrentData(() => todoList.find(item => item.id === id));\n    if (type === 0) setisShowCheckModel(true);else setisShowEditModel(true);\n  }, [todoList]);\n  const updateData = useCallback((data, id) => {\n    setTodoList(todoList => todoList.map(item => item.id === id ? data : item));\n    setisShowEditModel(false);\n  }, []);\n  const handleCompleted = useCallback(id => {\n    setTodoList(todoList => todoList.map(item => {\n      if (item.id === id) item.completed = !item.completed;\n      return item;\n    }));\n  }, []);\n  const removeItem = useCallback(id => {\n    setTodoList(() => todoList.filter(item => item.id !== id));\n  }, [todoList]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(MyHeader, {\n      openInput: () => setShowInput(!isShowInput)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(AddInput, {\n      addItem: addItem,\n      isShowInput: isShowInput\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: todoList.map(item => /*#__PURE__*/_jsxDEV(TodoItem, {\n        handleCompleted: handleCompleted,\n        openModel: openModel,\n        removeItem: removeItem,\n        data: item\n      }, item.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 30\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CheckModel, {\n      data: currentData,\n      isShowCheckModel: isShowCheckModel,\n      closeModel: () => setisShowCheckModel(false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(EditModel, {\n      data: currentData,\n      isShowEditModel: isShowEditModel,\n      handleCompleted: handleCompleted,\n      updateData: updateData\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"8rrbr29CDNSDApoZkt1nKZtWbz4=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useState","useCallback","useEffect","MyHeader","AddInput","TodoItem","CheckModel","EditModel","App","isShowInput","setShowInput","todoList","setTodoList","isShowCheckModel","setisShowCheckModel","isShowEditModel","setisShowEditModel","currentData","setcurrentData","todoData","JSON","parse","localStorage","getItem","setItem","stringify","addItem","value","itemData","id","Date","getTime","content","completed","openModel","type","find","item","updateData","data","map","handleCompleted","removeItem","filter"],"sources":["C:/Project/Web/React/todolist_pro/src/App.js"],"sourcesContent":["import { useState, useCallback, useEffect } from 'react';\nimport './App.scss';\nimport MyHeader from './components/Header';\nimport AddInput from './components/AddInput';\nimport TodoItem from './components/TodoItem';\nimport CheckModel from './components/Model/CheckModel';\nimport EditModel from './components/Model/EditModel';\n\n// useEffect 要按顺序执行 \nfunction App() {\n  const [isShowInput, setShowInput] = useState(false),\n        [todoList, setTodoList] = useState([]),\n        [isShowCheckModel, setisShowCheckModel] = useState(false),\n        [isShowEditModel, setisShowEditModel] = useState(false),\n        [currentData, setcurrentData] = useState({});\n\n  // 第一次加载时读取数据\n  useEffect(() => {\n    const todoData = JSON.parse(localStorage.getItem('todoData')) || [];\n    setTodoList(todoData);\n  }, []);\n\n  // todoLis 变化的话就更新存储\n  useEffect(() => {\n    localStorage.setItem('todoData', JSON.stringify(todoList));\n  }, [todoList]);\n  \n  // 这个函数没必要在父组件更新的时候更新，所以用useCallback缓存，起来不让他跟随父组件更新\n  const addItem = useCallback((value) => {\n    const itemData = {\n      id: new Date().getTime(),\n      content: value,\n      completed: false\n    }\n    setTodoList((todoList) => [...todoList, itemData]);\n    setShowInput(false);\n  }, []);\n\n  // 依赖了todolist\n  const openModel = useCallback((id, type = 0) => {\n      setcurrentData(() => todoList.find(item => item.id === id));\n      if (type === 0)setisShowCheckModel(true);\n      else setisShowEditModel(true);\n  }, [todoList]);\n\n  const updateData = useCallback((data, id) =>{\n    setTodoList(todoList => todoList.map(item => (item.id === id ? data : item)));\n    setisShowEditModel(false);\n  }, []);\n\n  const handleCompleted = useCallback((id) => {\n    setTodoList(todoList => todoList.map(item => {\n      if (item.id === id) \n        item.completed = !item.completed;\n      return item;\n    }));\n  }, []);\n\n  const removeItem = useCallback((id) => {\n    setTodoList(() => todoList.filter(item => item.id !== id));\n  }, [todoList]);\n\n  return (\n    <div className=\"App\">\n      <MyHeader openInput={() => setShowInput(!isShowInput)} />\n      <AddInput addItem={addItem} isShowInput={isShowInput} />\n      <ul>{\n        todoList.map(item => <TodoItem handleCompleted={handleCompleted} openModel={openModel} removeItem={removeItem} data={item} key={item.id} />)\n      }</ul>\n      <CheckModel\n      data={currentData} \n      isShowCheckModel={isShowCheckModel} \n      closeModel={() => setisShowCheckModel(false)} />\n      <EditModel\n      data={currentData}  \n      isShowEditModel={isShowEditModel}\n      handleCompleted={handleCompleted}\n      updateData={updateData}/>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}